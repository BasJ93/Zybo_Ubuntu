<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>Apache Portable Runtime: Ring Macro Implementations</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Apache Portable Runtime
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a>  </div>
  <div class="headertitle">
<div class="title">Ring Macro Implementations<div class="ingroups"><a class="el" href="group___a_p_r.html">Apache Portability Runtime library</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga095edad4bcb6975014ed9584930f7819"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apr__ring.html#ga095edad4bcb6975014ed9584930f7819">APR_RING_ENTRY</a>(elem)</td></tr>
<tr class="separator:ga095edad4bcb6975014ed9584930f7819"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2953b8d4034077c4020616282e6c0b67"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apr__ring.html#ga2953b8d4034077c4020616282e6c0b67">APR_RING_HEAD</a>(head, elem)</td></tr>
<tr class="separator:ga2953b8d4034077c4020616282e6c0b67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga54210090292ebafcd0a0d75d9ff1563d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apr__ring.html#ga54210090292ebafcd0a0d75d9ff1563d">APR_RING_SENTINEL</a>(hp, elem, link)&#160;&#160;&#160;(struct elem *)((char *)(&amp;(hp)-&gt;next) - <a class="el" href="group__apr__general.html#gac16b1187b6ea63706c5dd48c88323dec">APR_OFFSETOF</a>(struct elem, link))</td></tr>
<tr class="separator:ga54210090292ebafcd0a0d75d9ff1563d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacacd9cfca24feb7ff754d4008422efcb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apr__ring.html#gacacd9cfca24feb7ff754d4008422efcb">APR_RING_FIRST</a>(hp)&#160;&#160;&#160;(hp)-&gt;next</td></tr>
<tr class="separator:gacacd9cfca24feb7ff754d4008422efcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8b927069ba9dc13defaf45a87267b5d3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apr__ring.html#ga8b927069ba9dc13defaf45a87267b5d3">APR_RING_LAST</a>(hp)&#160;&#160;&#160;(hp)-&gt;prev</td></tr>
<tr class="separator:ga8b927069ba9dc13defaf45a87267b5d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae42e4f7148719aa534bdbbc82be26a06"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apr__ring.html#gae42e4f7148719aa534bdbbc82be26a06">APR_RING_NEXT</a>(ep, link)&#160;&#160;&#160;(ep)-&gt;link.next</td></tr>
<tr class="separator:gae42e4f7148719aa534bdbbc82be26a06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga82d45623d505d59ea5619cf8f63d0ebb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apr__ring.html#ga82d45623d505d59ea5619cf8f63d0ebb">APR_RING_PREV</a>(ep, link)&#160;&#160;&#160;(ep)-&gt;link.prev</td></tr>
<tr class="separator:ga82d45623d505d59ea5619cf8f63d0ebb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga245e1a73b162a4a68ebd54c84683729d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apr__ring.html#ga245e1a73b162a4a68ebd54c84683729d">APR_RING_INIT</a>(hp, elem, link)</td></tr>
<tr class="separator:ga245e1a73b162a4a68ebd54c84683729d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9b64ad6eebea19f896d2aa90172b6b9a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apr__ring.html#ga9b64ad6eebea19f896d2aa90172b6b9a">APR_RING_EMPTY</a>(hp, elem, link)&#160;&#160;&#160;(<a class="el" href="group__apr__ring.html#gacacd9cfca24feb7ff754d4008422efcb">APR_RING_FIRST</a>((hp)) == <a class="el" href="group__apr__ring.html#ga54210090292ebafcd0a0d75d9ff1563d">APR_RING_SENTINEL</a>((hp), elem, link))</td></tr>
<tr class="separator:ga9b64ad6eebea19f896d2aa90172b6b9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae5048ecda4b26b012ee93c2c830058cb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apr__ring.html#gae5048ecda4b26b012ee93c2c830058cb">APR_RING_ELEM_INIT</a>(ep, link)</td></tr>
<tr class="separator:gae5048ecda4b26b012ee93c2c830058cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga438e7369e650ee07ac98ed0731589750"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apr__ring.html#ga438e7369e650ee07ac98ed0731589750">APR_RING_SPLICE_BEFORE</a>(lep, ep1, epN, link)</td></tr>
<tr class="separator:ga438e7369e650ee07ac98ed0731589750"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga53e6564eba59d7e734a0ce03cb418a42"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apr__ring.html#ga53e6564eba59d7e734a0ce03cb418a42">APR_RING_SPLICE_AFTER</a>(lep, ep1, epN, link)</td></tr>
<tr class="separator:ga53e6564eba59d7e734a0ce03cb418a42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga76f9a04f932b3377073fa4e30d745564"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apr__ring.html#ga76f9a04f932b3377073fa4e30d745564">APR_RING_INSERT_BEFORE</a>(lep, nep, link)&#160;&#160;&#160;<a class="el" href="group__apr__ring.html#ga438e7369e650ee07ac98ed0731589750">APR_RING_SPLICE_BEFORE</a>((lep), (nep), (nep), link)</td></tr>
<tr class="separator:ga76f9a04f932b3377073fa4e30d745564"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga40453637d00c853f3a212a30c1f2cb41"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apr__ring.html#ga40453637d00c853f3a212a30c1f2cb41">APR_RING_INSERT_AFTER</a>(lep, nep, link)&#160;&#160;&#160;<a class="el" href="group__apr__ring.html#ga53e6564eba59d7e734a0ce03cb418a42">APR_RING_SPLICE_AFTER</a>((lep), (nep), (nep), link)</td></tr>
<tr class="separator:ga40453637d00c853f3a212a30c1f2cb41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga592e71a7cf219fc70f4fc47c60ef4c64"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apr__ring.html#ga592e71a7cf219fc70f4fc47c60ef4c64">APR_RING_SPLICE_HEAD</a>(hp, ep1, epN, elem, link)</td></tr>
<tr class="separator:ga592e71a7cf219fc70f4fc47c60ef4c64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga51e02e214fb6e218f45ff23cbd1f7abc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apr__ring.html#ga51e02e214fb6e218f45ff23cbd1f7abc">APR_RING_SPLICE_TAIL</a>(hp, ep1, epN, elem, link)</td></tr>
<tr class="separator:ga51e02e214fb6e218f45ff23cbd1f7abc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad59352546dc9253c0057ad43cf728a63"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apr__ring.html#gad59352546dc9253c0057ad43cf728a63">APR_RING_INSERT_HEAD</a>(hp, nep, elem, link)&#160;&#160;&#160;<a class="el" href="group__apr__ring.html#ga592e71a7cf219fc70f4fc47c60ef4c64">APR_RING_SPLICE_HEAD</a>((hp), (nep), (nep), elem, link)</td></tr>
<tr class="separator:gad59352546dc9253c0057ad43cf728a63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga235311035184125d72ce0689c9949a3e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apr__ring.html#ga235311035184125d72ce0689c9949a3e">APR_RING_INSERT_TAIL</a>(hp, nep, elem, link)&#160;&#160;&#160;<a class="el" href="group__apr__ring.html#ga51e02e214fb6e218f45ff23cbd1f7abc">APR_RING_SPLICE_TAIL</a>((hp), (nep), (nep), elem, link)</td></tr>
<tr class="separator:ga235311035184125d72ce0689c9949a3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga34ee7a0d6daa61117006bb74498ff5aa"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apr__ring.html#ga34ee7a0d6daa61117006bb74498ff5aa">APR_RING_CONCAT</a>(h1, h2, elem, link)</td></tr>
<tr class="separator:ga34ee7a0d6daa61117006bb74498ff5aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4d5aaa9b6f02f96f98f234a0a428474d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apr__ring.html#ga4d5aaa9b6f02f96f98f234a0a428474d">APR_RING_PREPEND</a>(h1, h2, elem, link)</td></tr>
<tr class="separator:ga4d5aaa9b6f02f96f98f234a0a428474d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1d725b0a9ea7ff88f771e37ec130c13b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apr__ring.html#ga1d725b0a9ea7ff88f771e37ec130c13b">APR_RING_UNSPLICE</a>(ep1, epN, link)</td></tr>
<tr class="separator:ga1d725b0a9ea7ff88f771e37ec130c13b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaab4a57544bdb660ec1e306137387d9d7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apr__ring.html#gaab4a57544bdb660ec1e306137387d9d7">APR_RING_REMOVE</a>(ep, link)&#160;&#160;&#160;<a class="el" href="group__apr__ring.html#ga1d725b0a9ea7ff88f771e37ec130c13b">APR_RING_UNSPLICE</a>((ep), (ep), link)</td></tr>
<tr class="separator:gaab4a57544bdb660ec1e306137387d9d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7dc7b26e72f836d27e8e0c87da14fb4a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apr__ring.html#ga7dc7b26e72f836d27e8e0c87da14fb4a">APR_RING_FOREACH</a>(ep, head, elem, link)</td></tr>
<tr class="separator:ga7dc7b26e72f836d27e8e0c87da14fb4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9a1e91eef86d676d1622dc5b9ddd6f89"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apr__ring.html#ga9a1e91eef86d676d1622dc5b9ddd6f89">APR_RING_FOREACH_SAFE</a>(ep1, ep2, head, elem, link)</td></tr>
<tr class="separator:ga9a1e91eef86d676d1622dc5b9ddd6f89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga33c7cfbea7c688c7bd0a3d36609f318b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apr__ring.html#ga33c7cfbea7c688c7bd0a3d36609f318b">APR_RING_CHECK_ONE</a>(msg, ptr)</td></tr>
<tr class="separator:ga33c7cfbea7c688c7bd0a3d36609f318b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga97bb4dcc313145496e6b05855f9c6e2b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apr__ring.html#ga97bb4dcc313145496e6b05855f9c6e2b">APR_RING_CHECK</a>(hp, elem, link, msg)</td></tr>
<tr class="separator:ga97bb4dcc313145496e6b05855f9c6e2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6b0f2091527ee9c7a1511cb6f172a0a7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apr__ring.html#ga6b0f2091527ee9c7a1511cb6f172a0a7">APR_RING_CHECK_CONSISTENCY</a>(hp, elem, link)</td></tr>
<tr class="separator:ga6b0f2091527ee9c7a1511cb6f172a0a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5500df0e96dea1a3258f1e92b28fea0a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apr__ring.html#ga5500df0e96dea1a3258f1e92b28fea0a">APR_RING_CHECK_ELEM</a>(ep, elem, link, msg)</td></tr>
<tr class="separator:ga5500df0e96dea1a3258f1e92b28fea0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab7070ae5cf69bf16178a0e0e397c5b38"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apr__ring.html#gab7070ae5cf69bf16178a0e0e397c5b38">APR_RING_CHECK_ELEM_CONSISTENCY</a>(ep, elem, link)</td></tr>
<tr class="separator:gab7070ae5cf69bf16178a0e0e397c5b38"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>A ring is a kind of doubly-linked list that can be manipulated without knowing where its head is. </p>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ga97bb4dcc313145496e6b05855f9c6e2b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define APR_RING_CHECK</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">hp, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">elem, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">link, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">msg&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Dump all ring pointers to STDERR, starting with the head and looping all the way around the ring back to the head. Aborts if an inconsistency is found. (This is a no-op unless APR_RING_DEBUG is defined.) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hp</td><td>Head of the ring </td></tr>
    <tr><td class="paramname">elem</td><td>The name of the element struct </td></tr>
    <tr><td class="paramname">link</td><td>The name of the APR_RING_ENTRY in the element struct </td></tr>
    <tr><td class="paramname">msg</td><td>Descriptive message </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga6b0f2091527ee9c7a1511cb6f172a0a7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define APR_RING_CHECK_CONSISTENCY</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">hp, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">elem, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">link&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Loops around a ring and checks all the pointers for consistency. Pops an assertion if any inconsistency is found. Same idea as <a class="el" href="group__apr__ring.html#ga97bb4dcc313145496e6b05855f9c6e2b">APR_RING_CHECK()</a> except that it's silent if all is well. (This is a no-op unless APR_RING_DEBUG is defined.) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hp</td><td>Head of the ring </td></tr>
    <tr><td class="paramname">elem</td><td>The name of the element struct </td></tr>
    <tr><td class="paramname">link</td><td>The name of the APR_RING_ENTRY in the element struct </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga5500df0e96dea1a3258f1e92b28fea0a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define APR_RING_CHECK_ELEM</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ep, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">elem, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">link, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">msg&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Dump all ring pointers to STDERR, starting with the given element and looping all the way around the ring back to that element. Aborts if an inconsistency is found. (This is a no-op unless APR_RING_DEBUG is defined.) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ep</td><td>The element </td></tr>
    <tr><td class="paramname">elem</td><td>The name of the element struct </td></tr>
    <tr><td class="paramname">link</td><td>The name of the APR_RING_ENTRY in the element struct </td></tr>
    <tr><td class="paramname">msg</td><td>Descriptive message </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gab7070ae5cf69bf16178a0e0e397c5b38"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define APR_RING_CHECK_ELEM_CONSISTENCY</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ep, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">elem, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">link&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Loops around a ring, starting with the given element, and checks all the pointers for consistency. Pops an assertion if any inconsistency is found. Same idea as <a class="el" href="group__apr__ring.html#ga5500df0e96dea1a3258f1e92b28fea0a">APR_RING_CHECK_ELEM()</a> except that it's silent if all is well. (This is a no-op unless APR_RING_DEBUG is defined.) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ep</td><td>The element </td></tr>
    <tr><td class="paramname">elem</td><td>The name of the element struct </td></tr>
    <tr><td class="paramname">link</td><td>The name of the APR_RING_ENTRY in the element struct </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga33c7cfbea7c688c7bd0a3d36609f318b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define APR_RING_CHECK_ONE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">msg, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ptr&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Print a single pointer value to STDERR (This is a no-op unless APR_RING_DEBUG is defined.) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>Descriptive message </td></tr>
    <tr><td class="paramname">ptr</td><td>Pointer value to print </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga34ee7a0d6daa61117006bb74498ff5aa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define APR_RING_CONCAT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">h1, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">h2, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">elem, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">link&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> {            \</div>
<div class="line">    if (!<a class="code" href="group__apr__ring.html#ga9b64ad6eebea19f896d2aa90172b6b9a">APR_RING_EMPTY</a>((h2), elem, link)) {            <a class="code" href="group__apr__ring.html#ga438e7369e650ee07ac98ed0731589750">\</a></div>
<div class="line"><a class="code" href="group__apr__ring.html#ga438e7369e650ee07ac98ed0731589750">	    APR_RING_SPLICE_BEFORE</a>(<a class="code" href="group__apr__ring.html#ga54210090292ebafcd0a0d75d9ff1563d">APR_RING_SENTINEL</a>((h1), elem, link),    \</div>
<div class="line">                  <a class="code" href="group__apr__ring.html#gacacd9cfca24feb7ff754d4008422efcb">APR_RING_FIRST</a>((h2)),         \</div>
<div class="line">                  <a class="code" href="group__apr__ring.html#ga8b927069ba9dc13defaf45a87267b5d3">APR_RING_LAST</a>((h2)), link);       <a class="code" href="group__apr__ring.html#ga245e1a73b162a4a68ebd54c84683729d">\</a></div>
<div class="line"><a class="code" href="group__apr__ring.html#ga245e1a73b162a4a68ebd54c84683729d">	    APR_RING_INIT</a>((h2), elem, link);               \</div>
<div class="line">    }                               \</div>
<div class="line">    } <span class="keywordflow">while</span> (0)</div>
<div class="ttc" id="group__apr__ring_html_ga245e1a73b162a4a68ebd54c84683729d"><div class="ttname"><a href="group__apr__ring.html#ga245e1a73b162a4a68ebd54c84683729d">APR_RING_INIT</a></div><div class="ttdeci">#define APR_RING_INIT(hp, elem, link)</div><div class="ttdef"><b>Definition:</b> apr_ring.h:192</div></div>
<div class="ttc" id="group__apr__ring_html_ga438e7369e650ee07ac98ed0731589750"><div class="ttname"><a href="group__apr__ring.html#ga438e7369e650ee07ac98ed0731589750">APR_RING_SPLICE_BEFORE</a></div><div class="ttdeci">#define APR_RING_SPLICE_BEFORE(lep, ep1, epN, link)</div><div class="ttdef"><b>Definition:</b> apr_ring.h:228</div></div>
<div class="ttc" id="group__apr__ring_html_ga54210090292ebafcd0a0d75d9ff1563d"><div class="ttname"><a href="group__apr__ring.html#ga54210090292ebafcd0a0d75d9ff1563d">APR_RING_SENTINEL</a></div><div class="ttdeci">#define APR_RING_SENTINEL(hp, elem, link)</div><div class="ttdef"><b>Definition:</b> apr_ring.h:159</div></div>
<div class="ttc" id="group__apr__ring_html_ga9b64ad6eebea19f896d2aa90172b6b9a"><div class="ttname"><a href="group__apr__ring.html#ga9b64ad6eebea19f896d2aa90172b6b9a">APR_RING_EMPTY</a></div><div class="ttdeci">#define APR_RING_EMPTY(hp, elem, link)</div><div class="ttdef"><b>Definition:</b> apr_ring.h:204</div></div>
<div class="ttc" id="group__apr__ring_html_gacacd9cfca24feb7ff754d4008422efcb"><div class="ttname"><a href="group__apr__ring.html#gacacd9cfca24feb7ff754d4008422efcb">APR_RING_FIRST</a></div><div class="ttdeci">#define APR_RING_FIRST(hp)</div><div class="ttdef"><b>Definition:</b> apr_ring.h:166</div></div>
<div class="ttc" id="group__apr__ring_html_ga8b927069ba9dc13defaf45a87267b5d3"><div class="ttname"><a href="group__apr__ring.html#ga8b927069ba9dc13defaf45a87267b5d3">APR_RING_LAST</a></div><div class="ttdeci">#define APR_RING_LAST(hp)</div><div class="ttdef"><b>Definition:</b> apr_ring.h:171</div></div>
</div><!-- fragment --><p>Concatenate ring h2 onto the end of ring h1, leaving h2 empty. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">h1</td><td>Head of the ring to concatenate onto </td></tr>
    <tr><td class="paramname">h2</td><td>Head of the ring to concatenate </td></tr>
    <tr><td class="paramname">elem</td><td>The name of the element struct </td></tr>
    <tr><td class="paramname">link</td><td>The name of the APR_RING_ENTRY in the element struct </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gae5048ecda4b26b012ee93c2c830058cb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define APR_RING_ELEM_INIT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ep, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">link&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> {                <a class="code" href="group__apr__ring.html#gae42e4f7148719aa534bdbbc82be26a06">\</a></div>
<div class="line"><a class="code" href="group__apr__ring.html#gae42e4f7148719aa534bdbbc82be26a06">	APR_RING_NEXT</a>((ep), link) = (ep);              <a class="code" href="group__apr__ring.html#ga82d45623d505d59ea5619cf8f63d0ebb">\</a></div>
<div class="line"><a class="code" href="group__apr__ring.html#ga82d45623d505d59ea5619cf8f63d0ebb">	APR_RING_PREV</a>((ep), link) = (ep);              \</div>
<div class="line">    } <span class="keywordflow">while</span> (0)</div>
<div class="ttc" id="group__apr__ring_html_gae42e4f7148719aa534bdbbc82be26a06"><div class="ttname"><a href="group__apr__ring.html#gae42e4f7148719aa534bdbbc82be26a06">APR_RING_NEXT</a></div><div class="ttdeci">#define APR_RING_NEXT(ep, link)</div><div class="ttdef"><b>Definition:</b> apr_ring.h:177</div></div>
<div class="ttc" id="group__apr__ring_html_ga82d45623d505d59ea5619cf8f63d0ebb"><div class="ttname"><a href="group__apr__ring.html#ga82d45623d505d59ea5619cf8f63d0ebb">APR_RING_PREV</a></div><div class="ttdeci">#define APR_RING_PREV(ep, link)</div><div class="ttdef"><b>Definition:</b> apr_ring.h:183</div></div>
</div><!-- fragment --><p>Initialize a singleton element </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ep</td><td>The element </td></tr>
    <tr><td class="paramname">link</td><td>The name of the APR_RING_ENTRY in the element struct </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga9b64ad6eebea19f896d2aa90172b6b9a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define APR_RING_EMPTY</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">hp, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">elem, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">link&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;(<a class="el" href="group__apr__ring.html#gacacd9cfca24feb7ff754d4008422efcb">APR_RING_FIRST</a>((hp)) == <a class="el" href="group__apr__ring.html#ga54210090292ebafcd0a0d75d9ff1563d">APR_RING_SENTINEL</a>((hp), elem, link))</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Determine if a ring is empty </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hp</td><td>The head of the ring </td></tr>
    <tr><td class="paramname">elem</td><td>The name of the element struct </td></tr>
    <tr><td class="paramname">link</td><td>The name of the APR_RING_ENTRY in the element struct </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true or false </dd></dl>

</div>
</div>
<a class="anchor" id="ga095edad4bcb6975014ed9584930f7819"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define APR_RING_ENTRY</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">elem</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keyword">struct </span>{                                \</div>
<div class="line">    struct elem * <span class="keyword">volatile</span> next;                    \</div>
<div class="line">    struct elem * <span class="keyword">volatile</span> prev;                    \</div>
<div class="line">    }</div>
</div><!-- fragment --><p>The Ring Element</p>
<p>A ring element struct is linked to the other elements in the ring through its ring entry field, e.g. </p>
<pre>
     struct my_element_t {
         <a class="el" href="group__apr__ring.html#ga095edad4bcb6975014ed9584930f7819">APR_RING_ENTRY(my_element_t)</a> link;
         int foo;
         char *bar;
     };
</pre><p>An element struct may be put on more than one ring if it has more than one APR_RING_ENTRY field. Each APR_RING_ENTRY has a corresponding APR_RING_HEAD declaration.</p>
<dl class="section warning"><dt>Warning</dt><dd>For strict C standards compliance you should put the APR_RING_ENTRY first in the element struct unless the head is always part of a larger object with enough earlier fields to accommodate the offsetof() used to compute the ring sentinel below. You can usually ignore this caveat. </dd></dl>

</div>
</div>
<a class="anchor" id="gacacd9cfca24feb7ff754d4008422efcb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define APR_RING_FIRST</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">hp</td><td>)</td>
          <td>&#160;&#160;&#160;(hp)-&gt;next</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The first element of the ring </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hp</td><td>The head of the ring </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga7dc7b26e72f836d27e8e0c87da14fb4a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define APR_RING_FOREACH</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ep, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">head, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">elem, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">link&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">for</span> (ep = <a class="code" href="group__apr__ring.html#gacacd9cfca24feb7ff754d4008422efcb">APR_RING_FIRST</a>(head);                                     \</div>
<div class="line">         ep != <a class="code" href="group__apr__ring.html#ga54210090292ebafcd0a0d75d9ff1563d">APR_RING_SENTINEL</a>(head, elem, link);                     \</div>
<div class="line">         ep = <a class="code" href="group__apr__ring.html#gae42e4f7148719aa534bdbbc82be26a06">APR_RING_NEXT</a>(ep, link))</div>
<div class="ttc" id="group__apr__ring_html_gae42e4f7148719aa534bdbbc82be26a06"><div class="ttname"><a href="group__apr__ring.html#gae42e4f7148719aa534bdbbc82be26a06">APR_RING_NEXT</a></div><div class="ttdeci">#define APR_RING_NEXT(ep, link)</div><div class="ttdef"><b>Definition:</b> apr_ring.h:177</div></div>
<div class="ttc" id="group__apr__ring_html_ga54210090292ebafcd0a0d75d9ff1563d"><div class="ttname"><a href="group__apr__ring.html#ga54210090292ebafcd0a0d75d9ff1563d">APR_RING_SENTINEL</a></div><div class="ttdeci">#define APR_RING_SENTINEL(hp, elem, link)</div><div class="ttdef"><b>Definition:</b> apr_ring.h:159</div></div>
<div class="ttc" id="group__apr__ring_html_gacacd9cfca24feb7ff754d4008422efcb"><div class="ttname"><a href="group__apr__ring.html#gacacd9cfca24feb7ff754d4008422efcb">APR_RING_FIRST</a></div><div class="ttdeci">#define APR_RING_FIRST(hp)</div><div class="ttdef"><b>Definition:</b> apr_ring.h:166</div></div>
</div><!-- fragment --><p>Iterate over a ring </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ep</td><td>The current element </td></tr>
    <tr><td class="paramname">head</td><td>The head of the ring </td></tr>
    <tr><td class="paramname">elem</td><td>The name of the element struct </td></tr>
    <tr><td class="paramname">link</td><td>The name of the APR_RING_ENTRY in the element struct </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga9a1e91eef86d676d1622dc5b9ddd6f89"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define APR_RING_FOREACH_SAFE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ep1, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ep2, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">head, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">elem, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">link&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">for</span> (ep1 = <a class="code" href="group__apr__ring.html#gacacd9cfca24feb7ff754d4008422efcb">APR_RING_FIRST</a>(head), ep2 = <a class="code" href="group__apr__ring.html#gae42e4f7148719aa534bdbbc82be26a06">APR_RING_NEXT</a>(ep1, link);    \</div>
<div class="line">         ep1 != <a class="code" href="group__apr__ring.html#ga54210090292ebafcd0a0d75d9ff1563d">APR_RING_SENTINEL</a>(head, elem, link);                    \</div>
<div class="line">         ep1 = ep2, ep2 = <a class="code" href="group__apr__ring.html#gae42e4f7148719aa534bdbbc82be26a06">APR_RING_NEXT</a>(ep1, link))</div>
<div class="ttc" id="group__apr__ring_html_gae42e4f7148719aa534bdbbc82be26a06"><div class="ttname"><a href="group__apr__ring.html#gae42e4f7148719aa534bdbbc82be26a06">APR_RING_NEXT</a></div><div class="ttdeci">#define APR_RING_NEXT(ep, link)</div><div class="ttdef"><b>Definition:</b> apr_ring.h:177</div></div>
<div class="ttc" id="group__apr__ring_html_ga54210090292ebafcd0a0d75d9ff1563d"><div class="ttname"><a href="group__apr__ring.html#ga54210090292ebafcd0a0d75d9ff1563d">APR_RING_SENTINEL</a></div><div class="ttdeci">#define APR_RING_SENTINEL(hp, elem, link)</div><div class="ttdef"><b>Definition:</b> apr_ring.h:159</div></div>
<div class="ttc" id="group__apr__ring_html_gacacd9cfca24feb7ff754d4008422efcb"><div class="ttname"><a href="group__apr__ring.html#gacacd9cfca24feb7ff754d4008422efcb">APR_RING_FIRST</a></div><div class="ttdeci">#define APR_RING_FIRST(hp)</div><div class="ttdef"><b>Definition:</b> apr_ring.h:166</div></div>
</div><!-- fragment --><p>Iterate over a ring safe against removal of the current element </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ep1</td><td>The current element </td></tr>
    <tr><td class="paramname">ep2</td><td>Iteration cursor </td></tr>
    <tr><td class="paramname">head</td><td>The head of the ring </td></tr>
    <tr><td class="paramname">elem</td><td>The name of the element struct </td></tr>
    <tr><td class="paramname">link</td><td>The name of the APR_RING_ENTRY in the element struct </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga2953b8d4034077c4020616282e6c0b67"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define APR_RING_HEAD</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">head, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">elem&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keyword">struct </span>head {                           \</div>
<div class="line">    struct elem * <span class="keyword">volatile</span> next;                    \</div>
<div class="line">    struct elem * <span class="keyword">volatile</span> prev;                    \</div>
<div class="line">    }</div>
</div><!-- fragment --><p>The Ring Head</p>
<p>Each ring is managed via its head, which is a struct declared like this: </p>
<pre>
     <a class="el" href="group__apr__ring.html#ga2953b8d4034077c4020616282e6c0b67">APR_RING_HEAD(my_ring_t, my_element_t)</a>;
     struct my_ring_t ring, *ringp;
</pre><p>This struct looks just like the element link struct so that we can be sure that the typecasting games will work as expected.</p>
<p>The first element in the ring is next after the head, and the last element is just before the head. </p>

</div>
</div>
<a class="anchor" id="ga245e1a73b162a4a68ebd54c84683729d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define APR_RING_INIT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">hp, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">elem, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">link&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> {                <a class="code" href="group__apr__ring.html#gacacd9cfca24feb7ff754d4008422efcb">\</a></div>
<div class="line"><a class="code" href="group__apr__ring.html#gacacd9cfca24feb7ff754d4008422efcb">	APR_RING_FIRST</a>((hp)) = <a class="code" href="group__apr__ring.html#ga54210090292ebafcd0a0d75d9ff1563d">APR_RING_SENTINEL</a>((hp), elem, link);    <a class="code" href="group__apr__ring.html#ga8b927069ba9dc13defaf45a87267b5d3">\</a></div>
<div class="line"><a class="code" href="group__apr__ring.html#ga8b927069ba9dc13defaf45a87267b5d3">	APR_RING_LAST</a>((hp))  = <a class="code" href="group__apr__ring.html#ga54210090292ebafcd0a0d75d9ff1563d">APR_RING_SENTINEL</a>((hp), elem, link);    \</div>
<div class="line">    } <span class="keywordflow">while</span> (0)</div>
<div class="ttc" id="group__apr__ring_html_ga54210090292ebafcd0a0d75d9ff1563d"><div class="ttname"><a href="group__apr__ring.html#ga54210090292ebafcd0a0d75d9ff1563d">APR_RING_SENTINEL</a></div><div class="ttdeci">#define APR_RING_SENTINEL(hp, elem, link)</div><div class="ttdef"><b>Definition:</b> apr_ring.h:159</div></div>
<div class="ttc" id="group__apr__ring_html_gacacd9cfca24feb7ff754d4008422efcb"><div class="ttname"><a href="group__apr__ring.html#gacacd9cfca24feb7ff754d4008422efcb">APR_RING_FIRST</a></div><div class="ttdeci">#define APR_RING_FIRST(hp)</div><div class="ttdef"><b>Definition:</b> apr_ring.h:166</div></div>
<div class="ttc" id="group__apr__ring_html_ga8b927069ba9dc13defaf45a87267b5d3"><div class="ttname"><a href="group__apr__ring.html#ga8b927069ba9dc13defaf45a87267b5d3">APR_RING_LAST</a></div><div class="ttdeci">#define APR_RING_LAST(hp)</div><div class="ttdef"><b>Definition:</b> apr_ring.h:171</div></div>
</div><!-- fragment --><p>Initialize a ring </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hp</td><td>The head of the ring </td></tr>
    <tr><td class="paramname">elem</td><td>The name of the element struct </td></tr>
    <tr><td class="paramname">link</td><td>The name of the APR_RING_ENTRY in the element struct </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga40453637d00c853f3a212a30c1f2cb41"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define APR_RING_INSERT_AFTER</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">lep, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">nep, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">link&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="group__apr__ring.html#ga53e6564eba59d7e734a0ce03cb418a42">APR_RING_SPLICE_AFTER</a>((lep), (nep), (nep), link)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Insert the element nep into the ring after element lep (..lep.. becomes ..lep..nep..) </p>
<dl class="section warning"><dt>Warning</dt><dd>This doesn't work for inserting after the last element or on empty rings... see APR_RING_INSERT_TAIL for one that does </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lep</td><td>Element in the ring to insert after </td></tr>
    <tr><td class="paramname">nep</td><td>Element to insert </td></tr>
    <tr><td class="paramname">link</td><td>The name of the APR_RING_ENTRY in the element struct </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga76f9a04f932b3377073fa4e30d745564"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define APR_RING_INSERT_BEFORE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">lep, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">nep, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">link&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="group__apr__ring.html#ga438e7369e650ee07ac98ed0731589750">APR_RING_SPLICE_BEFORE</a>((lep), (nep), (nep), link)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Insert the element nep into the ring before element lep (..lep.. becomes ..nep..lep..) </p>
<dl class="section warning"><dt>Warning</dt><dd>This doesn't work for inserting before the first element or on empty rings... see APR_RING_INSERT_HEAD for one that does </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lep</td><td>Element in the ring to insert before </td></tr>
    <tr><td class="paramname">nep</td><td>Element to insert </td></tr>
    <tr><td class="paramname">link</td><td>The name of the APR_RING_ENTRY in the element struct </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gad59352546dc9253c0057ad43cf728a63"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define APR_RING_INSERT_HEAD</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">hp, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">nep, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">elem, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">link&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="group__apr__ring.html#ga592e71a7cf219fc70f4fc47c60ef4c64">APR_RING_SPLICE_HEAD</a>((hp), (nep), (nep), elem, link)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Insert the element nep into the ring before the first element (..hp.. becomes ..hp..nep..) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hp</td><td>Head of the ring </td></tr>
    <tr><td class="paramname">nep</td><td>Element to insert </td></tr>
    <tr><td class="paramname">elem</td><td>The name of the element struct </td></tr>
    <tr><td class="paramname">link</td><td>The name of the APR_RING_ENTRY in the element struct </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga235311035184125d72ce0689c9949a3e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define APR_RING_INSERT_TAIL</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">hp, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">nep, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">elem, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">link&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="group__apr__ring.html#ga51e02e214fb6e218f45ff23cbd1f7abc">APR_RING_SPLICE_TAIL</a>((hp), (nep), (nep), elem, link)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Insert the element nep into the ring after the last element (..hp.. becomes ..nep..hp..) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hp</td><td>Head of the ring </td></tr>
    <tr><td class="paramname">nep</td><td>Element to insert </td></tr>
    <tr><td class="paramname">elem</td><td>The name of the element struct </td></tr>
    <tr><td class="paramname">link</td><td>The name of the APR_RING_ENTRY in the element struct </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga8b927069ba9dc13defaf45a87267b5d3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define APR_RING_LAST</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">hp</td><td>)</td>
          <td>&#160;&#160;&#160;(hp)-&gt;prev</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The last element of the ring </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hp</td><td>The head of the ring </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gae42e4f7148719aa534bdbbc82be26a06"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define APR_RING_NEXT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ep, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">link&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;(ep)-&gt;link.next</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The next element in the ring </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ep</td><td>The current element </td></tr>
    <tr><td class="paramname">link</td><td>The name of the APR_RING_ENTRY in the element struct </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga4d5aaa9b6f02f96f98f234a0a428474d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define APR_RING_PREPEND</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">h1, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">h2, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">elem, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">link&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> {            \</div>
<div class="line">    if (!<a class="code" href="group__apr__ring.html#ga9b64ad6eebea19f896d2aa90172b6b9a">APR_RING_EMPTY</a>((h2), elem, link)) {            <a class="code" href="group__apr__ring.html#ga53e6564eba59d7e734a0ce03cb418a42">\</a></div>
<div class="line"><a class="code" href="group__apr__ring.html#ga53e6564eba59d7e734a0ce03cb418a42">	    APR_RING_SPLICE_AFTER</a>(<a class="code" href="group__apr__ring.html#ga54210090292ebafcd0a0d75d9ff1563d">APR_RING_SENTINEL</a>((h1), elem, link), \</div>
<div class="line">                  <a class="code" href="group__apr__ring.html#gacacd9cfca24feb7ff754d4008422efcb">APR_RING_FIRST</a>((h2)),         \</div>
<div class="line">                  <a class="code" href="group__apr__ring.html#ga8b927069ba9dc13defaf45a87267b5d3">APR_RING_LAST</a>((h2)), link);       <a class="code" href="group__apr__ring.html#ga245e1a73b162a4a68ebd54c84683729d">\</a></div>
<div class="line"><a class="code" href="group__apr__ring.html#ga245e1a73b162a4a68ebd54c84683729d">	    APR_RING_INIT</a>((h2), elem, link);               \</div>
<div class="line">    }                               \</div>
<div class="line">    } <span class="keywordflow">while</span> (0)</div>
<div class="ttc" id="group__apr__ring_html_ga245e1a73b162a4a68ebd54c84683729d"><div class="ttname"><a href="group__apr__ring.html#ga245e1a73b162a4a68ebd54c84683729d">APR_RING_INIT</a></div><div class="ttdeci">#define APR_RING_INIT(hp, elem, link)</div><div class="ttdef"><b>Definition:</b> apr_ring.h:192</div></div>
<div class="ttc" id="group__apr__ring_html_ga53e6564eba59d7e734a0ce03cb418a42"><div class="ttname"><a href="group__apr__ring.html#ga53e6564eba59d7e734a0ce03cb418a42">APR_RING_SPLICE_AFTER</a></div><div class="ttdeci">#define APR_RING_SPLICE_AFTER(lep, ep1, epN, link)</div><div class="ttdef"><b>Definition:</b> apr_ring.h:245</div></div>
<div class="ttc" id="group__apr__ring_html_ga54210090292ebafcd0a0d75d9ff1563d"><div class="ttname"><a href="group__apr__ring.html#ga54210090292ebafcd0a0d75d9ff1563d">APR_RING_SENTINEL</a></div><div class="ttdeci">#define APR_RING_SENTINEL(hp, elem, link)</div><div class="ttdef"><b>Definition:</b> apr_ring.h:159</div></div>
<div class="ttc" id="group__apr__ring_html_ga9b64ad6eebea19f896d2aa90172b6b9a"><div class="ttname"><a href="group__apr__ring.html#ga9b64ad6eebea19f896d2aa90172b6b9a">APR_RING_EMPTY</a></div><div class="ttdeci">#define APR_RING_EMPTY(hp, elem, link)</div><div class="ttdef"><b>Definition:</b> apr_ring.h:204</div></div>
<div class="ttc" id="group__apr__ring_html_gacacd9cfca24feb7ff754d4008422efcb"><div class="ttname"><a href="group__apr__ring.html#gacacd9cfca24feb7ff754d4008422efcb">APR_RING_FIRST</a></div><div class="ttdeci">#define APR_RING_FIRST(hp)</div><div class="ttdef"><b>Definition:</b> apr_ring.h:166</div></div>
<div class="ttc" id="group__apr__ring_html_ga8b927069ba9dc13defaf45a87267b5d3"><div class="ttname"><a href="group__apr__ring.html#ga8b927069ba9dc13defaf45a87267b5d3">APR_RING_LAST</a></div><div class="ttdeci">#define APR_RING_LAST(hp)</div><div class="ttdef"><b>Definition:</b> apr_ring.h:171</div></div>
</div><!-- fragment --><p>Prepend ring h2 onto the beginning of ring h1, leaving h2 empty. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">h1</td><td>Head of the ring to prepend onto </td></tr>
    <tr><td class="paramname">h2</td><td>Head of the ring to prepend </td></tr>
    <tr><td class="paramname">elem</td><td>The name of the element struct </td></tr>
    <tr><td class="paramname">link</td><td>The name of the APR_RING_ENTRY in the element struct </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga82d45623d505d59ea5619cf8f63d0ebb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define APR_RING_PREV</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ep, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">link&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;(ep)-&gt;link.prev</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The previous element in the ring </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ep</td><td>The current element </td></tr>
    <tr><td class="paramname">link</td><td>The name of the APR_RING_ENTRY in the element struct </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gaab4a57544bdb660ec1e306137387d9d7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define APR_RING_REMOVE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ep, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">link&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="group__apr__ring.html#ga1d725b0a9ea7ff88f771e37ec130c13b">APR_RING_UNSPLICE</a>((ep), (ep), link)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Remove a single element from a ring </p>
<dl class="section warning"><dt>Warning</dt><dd>The unspliced element is left with dangling pointers at either end </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ep</td><td>Element to remove </td></tr>
    <tr><td class="paramname">link</td><td>The name of the APR_RING_ENTRY in the element struct </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga54210090292ebafcd0a0d75d9ff1563d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define APR_RING_SENTINEL</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">hp, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">elem, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">link&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;(struct elem *)((char *)(&amp;(hp)-&gt;next) - <a class="el" href="group__apr__general.html#gac16b1187b6ea63706c5dd48c88323dec">APR_OFFSETOF</a>(struct elem, link))</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The Ring Sentinel</p>
<p>This is the magic pointer value that occurs before the first and after the last elements in the ring, computed from the address of the ring's head. The head itself isn't an element, but in order to get rid of all the special cases when dealing with the ends of the ring, we play typecasting games to make it look like one.</p>
<p>Here is a diagram to illustrate the arrangements of the next and prev pointers of each element in a single ring. Note that they point to the start of each element, not to the APR_RING_ENTRY structure.</p>
<pre>
    +-&gt;+------+&lt;-+  +-&gt;+------+&lt;-+  +-&gt;+------+&lt;-+
    |  |struct|  |  |  |struct|  |  |  |struct|  |
   /   | elem |   \/   | elem |   \/   | elem |  \
...    |      |   /\   |      |   /\   |      |   ...
       +------+  |  |  +------+  |  |  +------+
  ...--|prev  |  |  +--|ring  |  |  +--|prev  |
       |  next|--+     | entry|--+     |  next|--...
       +------+        +------+        +------+
       | etc. |        | etc. |        | etc. |
       :      :        :      :        :      :
</pre><p>The APR_RING_HEAD is nothing but a bare APR_RING_ENTRY. The prev and next pointers in the first and last elements don't actually point to the head, they point to a phantom place called the sentinel. Its value is such that last-&gt;next-&gt;next == first because the offset from the sentinel to the head's next pointer is the same as the offset from the start of an element to its next pointer. This also works in the opposite direction.</p>
<pre>
       last                            first
    +-&gt;+------+&lt;-+  +-&gt;sentinel&lt;-+  +-&gt;+------+&lt;-+
    |  |struct|  |  |            |  |  |struct|  |
   /   | elem |   \/              \/   | elem |  \
...    |      |   /\              /\   |      |   ...
       +------+  |  |  +------+  |  |  +------+
  ...--|prev  |  |  +--|ring  |  |  +--|prev  |
       |  next|--+     |  head|--+     |  next|--...
       +------+        +------+        +------+
       | etc. |                        | etc. |
       :      :                        :      :
</pre><p>Note that the offset mentioned above is different for each kind of ring that the element may be on, and each kind of ring has a unique name for its APR_RING_ENTRY in each element, and has its own type for its APR_RING_HEAD.</p>
<p>Note also that if the offset is non-zero (which is required if an element has more than one APR_RING_ENTRY), the unreality of the sentinel may have bad implications on very perverse implementations of C &ndash; see the warning in APR_RING_ENTRY.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hp</td><td>The head of the ring </td></tr>
    <tr><td class="paramname">elem</td><td>The name of the element struct </td></tr>
    <tr><td class="paramname">link</td><td>The name of the APR_RING_ENTRY in the element struct </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga53e6564eba59d7e734a0ce03cb418a42"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define APR_RING_SPLICE_AFTER</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">lep, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ep1, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">epN, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">link&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> {            <a class="code" href="group__apr__ring.html#ga82d45623d505d59ea5619cf8f63d0ebb">\</a></div>
<div class="line"><a class="code" href="group__apr__ring.html#ga82d45623d505d59ea5619cf8f63d0ebb">	APR_RING_PREV</a>((ep1), link) = (lep);                <a class="code" href="group__apr__ring.html#gae42e4f7148719aa534bdbbc82be26a06">\</a></div>
<div class="line"><a class="code" href="group__apr__ring.html#gae42e4f7148719aa534bdbbc82be26a06">	APR_RING_NEXT</a>((epN), link) = <a class="code" href="group__apr__ring.html#gae42e4f7148719aa534bdbbc82be26a06">APR_RING_NEXT</a>((lep), link);   <a class="code" href="group__apr__ring.html#ga82d45623d505d59ea5619cf8f63d0ebb">\</a></div>
<div class="line"><a class="code" href="group__apr__ring.html#ga82d45623d505d59ea5619cf8f63d0ebb">	APR_RING_PREV</a>(<a class="code" href="group__apr__ring.html#gae42e4f7148719aa534bdbbc82be26a06">APR_RING_NEXT</a>((lep), link), link) = (epN);   <a class="code" href="group__apr__ring.html#gae42e4f7148719aa534bdbbc82be26a06">\</a></div>
<div class="line"><a class="code" href="group__apr__ring.html#gae42e4f7148719aa534bdbbc82be26a06">	APR_RING_NEXT</a>((lep), link) = (ep1);                \</div>
<div class="line">    } <span class="keywordflow">while</span> (0)</div>
<div class="ttc" id="group__apr__ring_html_gae42e4f7148719aa534bdbbc82be26a06"><div class="ttname"><a href="group__apr__ring.html#gae42e4f7148719aa534bdbbc82be26a06">APR_RING_NEXT</a></div><div class="ttdeci">#define APR_RING_NEXT(ep, link)</div><div class="ttdef"><b>Definition:</b> apr_ring.h:177</div></div>
<div class="ttc" id="group__apr__ring_html_ga82d45623d505d59ea5619cf8f63d0ebb"><div class="ttname"><a href="group__apr__ring.html#ga82d45623d505d59ea5619cf8f63d0ebb">APR_RING_PREV</a></div><div class="ttdeci">#define APR_RING_PREV(ep, link)</div><div class="ttdef"><b>Definition:</b> apr_ring.h:183</div></div>
</div><!-- fragment --><p>Splice the sequence ep1..epN into the ring after element lep (..lep.. becomes ..lep..ep1..epN..) </p>
<dl class="section warning"><dt>Warning</dt><dd>This doesn't work for splicing after the last element or on empty rings... see APR_RING_SPLICE_TAIL for one that does </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lep</td><td>Element in the ring to splice after </td></tr>
    <tr><td class="paramname">ep1</td><td>First element in the sequence to splice in </td></tr>
    <tr><td class="paramname">epN</td><td>Last element in the sequence to splice in </td></tr>
    <tr><td class="paramname">link</td><td>The name of the APR_RING_ENTRY in the element struct </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga438e7369e650ee07ac98ed0731589750"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define APR_RING_SPLICE_BEFORE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">lep, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ep1, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">epN, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">link&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> {        <a class="code" href="group__apr__ring.html#gae42e4f7148719aa534bdbbc82be26a06">\</a></div>
<div class="line"><a class="code" href="group__apr__ring.html#gae42e4f7148719aa534bdbbc82be26a06">	APR_RING_NEXT</a>((epN), link) = (lep);                <a class="code" href="group__apr__ring.html#ga82d45623d505d59ea5619cf8f63d0ebb">\</a></div>
<div class="line"><a class="code" href="group__apr__ring.html#ga82d45623d505d59ea5619cf8f63d0ebb">	APR_RING_PREV</a>((ep1), link) = <a class="code" href="group__apr__ring.html#ga82d45623d505d59ea5619cf8f63d0ebb">APR_RING_PREV</a>((lep), link);   <a class="code" href="group__apr__ring.html#gae42e4f7148719aa534bdbbc82be26a06">\</a></div>
<div class="line"><a class="code" href="group__apr__ring.html#gae42e4f7148719aa534bdbbc82be26a06">	APR_RING_NEXT</a>(<a class="code" href="group__apr__ring.html#ga82d45623d505d59ea5619cf8f63d0ebb">APR_RING_PREV</a>((lep), link), link) = (ep1);   <a class="code" href="group__apr__ring.html#ga82d45623d505d59ea5619cf8f63d0ebb">\</a></div>
<div class="line"><a class="code" href="group__apr__ring.html#ga82d45623d505d59ea5619cf8f63d0ebb">	APR_RING_PREV</a>((lep), link) = (epN);                \</div>
<div class="line">    } <span class="keywordflow">while</span> (0)</div>
<div class="ttc" id="group__apr__ring_html_gae42e4f7148719aa534bdbbc82be26a06"><div class="ttname"><a href="group__apr__ring.html#gae42e4f7148719aa534bdbbc82be26a06">APR_RING_NEXT</a></div><div class="ttdeci">#define APR_RING_NEXT(ep, link)</div><div class="ttdef"><b>Definition:</b> apr_ring.h:177</div></div>
<div class="ttc" id="group__apr__ring_html_ga82d45623d505d59ea5619cf8f63d0ebb"><div class="ttname"><a href="group__apr__ring.html#ga82d45623d505d59ea5619cf8f63d0ebb">APR_RING_PREV</a></div><div class="ttdeci">#define APR_RING_PREV(ep, link)</div><div class="ttdef"><b>Definition:</b> apr_ring.h:183</div></div>
</div><!-- fragment --><p>Splice the sequence ep1..epN into the ring before element lep (..lep.. becomes ..ep1..epN..lep..) </p>
<dl class="section warning"><dt>Warning</dt><dd>This doesn't work for splicing before the first element or on empty rings... see APR_RING_SPLICE_HEAD for one that does </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lep</td><td>Element in the ring to splice before </td></tr>
    <tr><td class="paramname">ep1</td><td>First element in the sequence to splice in </td></tr>
    <tr><td class="paramname">epN</td><td>Last element in the sequence to splice in </td></tr>
    <tr><td class="paramname">link</td><td>The name of the APR_RING_ENTRY in the element struct </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga592e71a7cf219fc70f4fc47c60ef4c64"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define APR_RING_SPLICE_HEAD</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">hp, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ep1, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">epN, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">elem, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">link&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><a class="code" href="group__apr__ring.html#ga53e6564eba59d7e734a0ce03cb418a42">APR_RING_SPLICE_AFTER</a>(<a class="code" href="group__apr__ring.html#ga54210090292ebafcd0a0d75d9ff1563d">APR_RING_SENTINEL</a>((hp), elem, link),  \</div>
<div class="line">                 (ep1), (epN), link)</div>
<div class="ttc" id="group__apr__ring_html_ga53e6564eba59d7e734a0ce03cb418a42"><div class="ttname"><a href="group__apr__ring.html#ga53e6564eba59d7e734a0ce03cb418a42">APR_RING_SPLICE_AFTER</a></div><div class="ttdeci">#define APR_RING_SPLICE_AFTER(lep, ep1, epN, link)</div><div class="ttdef"><b>Definition:</b> apr_ring.h:245</div></div>
<div class="ttc" id="group__apr__ring_html_ga54210090292ebafcd0a0d75d9ff1563d"><div class="ttname"><a href="group__apr__ring.html#ga54210090292ebafcd0a0d75d9ff1563d">APR_RING_SENTINEL</a></div><div class="ttdeci">#define APR_RING_SENTINEL(hp, elem, link)</div><div class="ttdef"><b>Definition:</b> apr_ring.h:159</div></div>
</div><!-- fragment --><p>Splice the sequence ep1..epN into the ring before the first element (..hp.. becomes ..hp..ep1..epN..) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hp</td><td>Head of the ring </td></tr>
    <tr><td class="paramname">ep1</td><td>First element in the sequence to splice in </td></tr>
    <tr><td class="paramname">epN</td><td>Last element in the sequence to splice in </td></tr>
    <tr><td class="paramname">elem</td><td>The name of the element struct </td></tr>
    <tr><td class="paramname">link</td><td>The name of the APR_RING_ENTRY in the element struct </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga51e02e214fb6e218f45ff23cbd1f7abc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define APR_RING_SPLICE_TAIL</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">hp, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ep1, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">epN, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">elem, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">link&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><a class="code" href="group__apr__ring.html#ga438e7369e650ee07ac98ed0731589750">APR_RING_SPLICE_BEFORE</a>(<a class="code" href="group__apr__ring.html#ga54210090292ebafcd0a0d75d9ff1563d">APR_RING_SENTINEL</a>((hp), elem, link), \</div>
<div class="line">                 (ep1), (epN), link)</div>
<div class="ttc" id="group__apr__ring_html_ga438e7369e650ee07ac98ed0731589750"><div class="ttname"><a href="group__apr__ring.html#ga438e7369e650ee07ac98ed0731589750">APR_RING_SPLICE_BEFORE</a></div><div class="ttdeci">#define APR_RING_SPLICE_BEFORE(lep, ep1, epN, link)</div><div class="ttdef"><b>Definition:</b> apr_ring.h:228</div></div>
<div class="ttc" id="group__apr__ring_html_ga54210090292ebafcd0a0d75d9ff1563d"><div class="ttname"><a href="group__apr__ring.html#ga54210090292ebafcd0a0d75d9ff1563d">APR_RING_SENTINEL</a></div><div class="ttdeci">#define APR_RING_SENTINEL(hp, elem, link)</div><div class="ttdef"><b>Definition:</b> apr_ring.h:159</div></div>
</div><!-- fragment --><p>Splice the sequence ep1..epN into the ring after the last element (..hp.. becomes ..ep1..epN..hp..) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hp</td><td>Head of the ring </td></tr>
    <tr><td class="paramname">ep1</td><td>First element in the sequence to splice in </td></tr>
    <tr><td class="paramname">epN</td><td>Last element in the sequence to splice in </td></tr>
    <tr><td class="paramname">elem</td><td>The name of the element struct </td></tr>
    <tr><td class="paramname">link</td><td>The name of the APR_RING_ENTRY in the element struct </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga1d725b0a9ea7ff88f771e37ec130c13b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define APR_RING_UNSPLICE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ep1, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">epN, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">link&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> {                <a class="code" href="group__apr__ring.html#gae42e4f7148719aa534bdbbc82be26a06">\</a></div>
<div class="line"><a class="code" href="group__apr__ring.html#gae42e4f7148719aa534bdbbc82be26a06">	APR_RING_NEXT</a>(<a class="code" href="group__apr__ring.html#ga82d45623d505d59ea5619cf8f63d0ebb">APR_RING_PREV</a>((ep1), link), link) =      <a class="code" href="group__apr__ring.html#gae42e4f7148719aa534bdbbc82be26a06">\</a></div>
<div class="line"><a class="code" href="group__apr__ring.html#gae42e4f7148719aa534bdbbc82be26a06">		     APR_RING_NEXT</a>((epN), link);          <a class="code" href="group__apr__ring.html#ga82d45623d505d59ea5619cf8f63d0ebb">\</a></div>
<div class="line"><a class="code" href="group__apr__ring.html#ga82d45623d505d59ea5619cf8f63d0ebb">	APR_RING_PREV</a>(<a class="code" href="group__apr__ring.html#gae42e4f7148719aa534bdbbc82be26a06">APR_RING_NEXT</a>((epN), link), link) =      <a class="code" href="group__apr__ring.html#ga82d45623d505d59ea5619cf8f63d0ebb">\</a></div>
<div class="line"><a class="code" href="group__apr__ring.html#ga82d45623d505d59ea5619cf8f63d0ebb">		     APR_RING_PREV</a>((ep1), link);          \</div>
<div class="line">    } <span class="keywordflow">while</span> (0)</div>
<div class="ttc" id="group__apr__ring_html_gae42e4f7148719aa534bdbbc82be26a06"><div class="ttname"><a href="group__apr__ring.html#gae42e4f7148719aa534bdbbc82be26a06">APR_RING_NEXT</a></div><div class="ttdeci">#define APR_RING_NEXT(ep, link)</div><div class="ttdef"><b>Definition:</b> apr_ring.h:177</div></div>
<div class="ttc" id="group__apr__ring_html_ga82d45623d505d59ea5619cf8f63d0ebb"><div class="ttname"><a href="group__apr__ring.html#ga82d45623d505d59ea5619cf8f63d0ebb">APR_RING_PREV</a></div><div class="ttdeci">#define APR_RING_PREV(ep, link)</div><div class="ttdef"><b>Definition:</b> apr_ring.h:183</div></div>
</div><!-- fragment --><p>Unsplice a sequence of elements from a ring </p>
<dl class="section warning"><dt>Warning</dt><dd>The unspliced sequence is left with dangling pointers at either end </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ep1</td><td>First element in the sequence to unsplice </td></tr>
    <tr><td class="paramname">epN</td><td>Last element in the sequence to unsplice </td></tr>
    <tr><td class="paramname">link</td><td>The name of the APR_RING_ENTRY in the element struct </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Dec 30 2013 23:12:12 for Apache Portable Runtime by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
