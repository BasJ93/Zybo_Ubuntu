<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>Apache Portable Runtime: Reader/Writer Lock Routines</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Apache Portable Runtime
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Reader/Writer Lock Routines<div class="ingroups"><a class="el" href="group___a_p_r.html">Apache Portability Runtime library</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gaede9b908e3d9e6a8aed7bd10d0ae0498"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="group__apr__thread__rwlock.html#gaede9b908e3d9e6a8aed7bd10d0ae0498">apr_thread_rwlock_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apr__thread__rwlock.html#gaede9b908e3d9e6a8aed7bd10d0ae0498">apr_thread_rwlock_t</a></td></tr>
<tr class="separator:gaede9b908e3d9e6a8aed7bd10d0ae0498"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gadae9c87ad957112406b48947cb1f0e93"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__apr__errno.html#gaf76ee4543247e9fb3f3546203e590a6c">apr_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apr__thread__rwlock.html#gadae9c87ad957112406b48947cb1f0e93">apr_thread_rwlock_create</a> (<a class="el" href="group__apr__thread__rwlock.html#gaede9b908e3d9e6a8aed7bd10d0ae0498">apr_thread_rwlock_t</a> **rwlock, <a class="el" href="group__apr__pools.html#gaf137f28edcf9a086cd6bc36c20d7cdfb">apr_pool_t</a> *pool)</td></tr>
<tr class="separator:gadae9c87ad957112406b48947cb1f0e93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad44a106cd9a81eef362d31837ca7018f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__apr__errno.html#gaf76ee4543247e9fb3f3546203e590a6c">apr_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apr__thread__rwlock.html#gad44a106cd9a81eef362d31837ca7018f">apr_thread_rwlock_rdlock</a> (<a class="el" href="group__apr__thread__rwlock.html#gaede9b908e3d9e6a8aed7bd10d0ae0498">apr_thread_rwlock_t</a> *rwlock)</td></tr>
<tr class="separator:gad44a106cd9a81eef362d31837ca7018f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2bbbc137f5c610e31bf87fd0a60c428e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__apr__errno.html#gaf76ee4543247e9fb3f3546203e590a6c">apr_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apr__thread__rwlock.html#ga2bbbc137f5c610e31bf87fd0a60c428e">apr_thread_rwlock_tryrdlock</a> (<a class="el" href="group__apr__thread__rwlock.html#gaede9b908e3d9e6a8aed7bd10d0ae0498">apr_thread_rwlock_t</a> *rwlock)</td></tr>
<tr class="separator:ga2bbbc137f5c610e31bf87fd0a60c428e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga91543c9f97a6a1265524a5a8f55fef31"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__apr__errno.html#gaf76ee4543247e9fb3f3546203e590a6c">apr_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apr__thread__rwlock.html#ga91543c9f97a6a1265524a5a8f55fef31">apr_thread_rwlock_wrlock</a> (<a class="el" href="group__apr__thread__rwlock.html#gaede9b908e3d9e6a8aed7bd10d0ae0498">apr_thread_rwlock_t</a> *rwlock)</td></tr>
<tr class="separator:ga91543c9f97a6a1265524a5a8f55fef31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga54c04596f8a1f44630bdda5a25578d63"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__apr__errno.html#gaf76ee4543247e9fb3f3546203e590a6c">apr_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apr__thread__rwlock.html#ga54c04596f8a1f44630bdda5a25578d63">apr_thread_rwlock_trywrlock</a> (<a class="el" href="group__apr__thread__rwlock.html#gaede9b908e3d9e6a8aed7bd10d0ae0498">apr_thread_rwlock_t</a> *rwlock)</td></tr>
<tr class="separator:ga54c04596f8a1f44630bdda5a25578d63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac7b31112d972abfcac30252e622eb040"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__apr__errno.html#gaf76ee4543247e9fb3f3546203e590a6c">apr_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apr__thread__rwlock.html#gac7b31112d972abfcac30252e622eb040">apr_thread_rwlock_unlock</a> (<a class="el" href="group__apr__thread__rwlock.html#gaede9b908e3d9e6a8aed7bd10d0ae0498">apr_thread_rwlock_t</a> *rwlock)</td></tr>
<tr class="separator:gac7b31112d972abfcac30252e622eb040"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga136118166f50091fb30011d837a4cdcc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__apr__errno.html#gaf76ee4543247e9fb3f3546203e590a6c">apr_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apr__thread__rwlock.html#ga136118166f50091fb30011d837a4cdcc">apr_thread_rwlock_destroy</a> (<a class="el" href="group__apr__thread__rwlock.html#gaede9b908e3d9e6a8aed7bd10d0ae0498">apr_thread_rwlock_t</a> *rwlock)</td></tr>
<tr class="separator:ga136118166f50091fb30011d837a4cdcc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3e78c5d8f2e7f4cdad46e912e68edd33"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__apr__pools.html#gaf137f28edcf9a086cd6bc36c20d7cdfb">apr_pool_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apr__thread__rwlock.html#ga3e78c5d8f2e7f4cdad46e912e68edd33">apr_thread_rwlock_pool_get</a> (const <a class="el" href="group__apr__thread__rwlock.html#gaede9b908e3d9e6a8aed7bd10d0ae0498">apr_thread_rwlock_t</a> *thethread_rwlock)</td></tr>
<tr class="separator:ga3e78c5d8f2e7f4cdad46e912e68edd33"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="gaede9b908e3d9e6a8aed7bd10d0ae0498"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="group__apr__thread__rwlock.html#gaede9b908e3d9e6a8aed7bd10d0ae0498">apr_thread_rwlock_t</a> <a class="el" href="group__apr__thread__rwlock.html#gaede9b908e3d9e6a8aed7bd10d0ae0498">apr_thread_rwlock_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Opaque read-write thread-safe lock. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gadae9c87ad957112406b48947cb1f0e93"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__apr__errno.html#gaf76ee4543247e9fb3f3546203e590a6c">apr_status_t</a> apr_thread_rwlock_create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__apr__thread__rwlock.html#gaede9b908e3d9e6a8aed7bd10d0ae0498">apr_thread_rwlock_t</a> **&#160;</td>
          <td class="paramname"><em>rwlock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__apr__pools.html#gaf137f28edcf9a086cd6bc36c20d7cdfb">apr_pool_t</a> *&#160;</td>
          <td class="paramname"><em>pool</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Note: The following operations have undefined results: unlocking a read-write lock which is not locked in the calling thread; write locking a read-write lock which is already locked by the calling thread; destroying a read-write lock more than once; clearing or destroying the pool from which a <b>locked</b> read-write lock is allocated. Create and initialize a read-write lock that can be used to synchronize threads. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rwlock</td><td>the memory address where the newly created readwrite lock will be stored. </td></tr>
    <tr><td class="paramname">pool</td><td>the pool from which to allocate the mutex. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga136118166f50091fb30011d837a4cdcc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__apr__errno.html#gaf76ee4543247e9fb3f3546203e590a6c">apr_status_t</a> apr_thread_rwlock_destroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__apr__thread__rwlock.html#gaede9b908e3d9e6a8aed7bd10d0ae0498">apr_thread_rwlock_t</a> *&#160;</td>
          <td class="paramname"><em>rwlock</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Destroy the read-write lock and free the associated memory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rwlock</td><td>the rwlock to destroy. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga3e78c5d8f2e7f4cdad46e912e68edd33"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__apr__pools.html#gaf137f28edcf9a086cd6bc36c20d7cdfb">apr_pool_t</a>* apr_thread_rwlock_pool_get </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__apr__thread__rwlock.html#gaede9b908e3d9e6a8aed7bd10d0ae0498">apr_thread_rwlock_t</a> *&#160;</td>
          <td class="paramname"><em>thethread_rwlock</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the pool used by this thread_rwlock. </p>
<dl class="section return"><dt>Returns</dt><dd>apr_pool_t the pool </dd></dl>

</div>
</div>
<a class="anchor" id="gad44a106cd9a81eef362d31837ca7018f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__apr__errno.html#gaf76ee4543247e9fb3f3546203e590a6c">apr_status_t</a> apr_thread_rwlock_rdlock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__apr__thread__rwlock.html#gaede9b908e3d9e6a8aed7bd10d0ae0498">apr_thread_rwlock_t</a> *&#160;</td>
          <td class="paramname"><em>rwlock</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Acquire a shared-read lock on the given read-write lock. This will allow multiple threads to enter the same critical section while they have acquired the read lock. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rwlock</td><td>the read-write lock on which to acquire the shared read. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga2bbbc137f5c610e31bf87fd0a60c428e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__apr__errno.html#gaf76ee4543247e9fb3f3546203e590a6c">apr_status_t</a> apr_thread_rwlock_tryrdlock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__apr__thread__rwlock.html#gaede9b908e3d9e6a8aed7bd10d0ae0498">apr_thread_rwlock_t</a> *&#160;</td>
          <td class="paramname"><em>rwlock</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Attempt to acquire the shared-read lock on the given read-write lock. This is the same as <a class="el" href="group__apr__thread__rwlock.html#gad44a106cd9a81eef362d31837ca7018f">apr_thread_rwlock_rdlock()</a>, only that the function fails if there is another thread holding the write lock, or if there are any write threads blocking on the lock. If the function fails for this case, APR_EBUSY will be returned. Note: it is important that the <a class="el" href="group___a_p_r___s_t_a_t_u_s___i_s.html#gabb92ad7b6ef304132de70e9e5cbaa896">APR_STATUS_IS_EBUSY(s)</a> macro be used to determine if the return value was APR_EBUSY, for portability reasons. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rwlock</td><td>the rwlock on which to attempt the shared read. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga54c04596f8a1f44630bdda5a25578d63"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__apr__errno.html#gaf76ee4543247e9fb3f3546203e590a6c">apr_status_t</a> apr_thread_rwlock_trywrlock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__apr__thread__rwlock.html#gaede9b908e3d9e6a8aed7bd10d0ae0498">apr_thread_rwlock_t</a> *&#160;</td>
          <td class="paramname"><em>rwlock</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Attempt to acquire the exclusive-write lock on the given read-write lock. This is the same as <a class="el" href="group__apr__thread__rwlock.html#ga91543c9f97a6a1265524a5a8f55fef31">apr_thread_rwlock_wrlock()</a>, only that the function fails if there is any other thread holding the lock (for reading or writing), in which case the function will return APR_EBUSY. Note: it is important that the <a class="el" href="group___a_p_r___s_t_a_t_u_s___i_s.html#gabb92ad7b6ef304132de70e9e5cbaa896">APR_STATUS_IS_EBUSY(s)</a> macro be used to determine if the return value was APR_EBUSY, for portability reasons. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rwlock</td><td>the rwlock on which to attempt the exclusive write. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gac7b31112d972abfcac30252e622eb040"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__apr__errno.html#gaf76ee4543247e9fb3f3546203e590a6c">apr_status_t</a> apr_thread_rwlock_unlock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__apr__thread__rwlock.html#gaede9b908e3d9e6a8aed7bd10d0ae0498">apr_thread_rwlock_t</a> *&#160;</td>
          <td class="paramname"><em>rwlock</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Release either the read or write lock currently held by the calling thread associated with the given read-write lock. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rwlock</td><td>the read-write lock to be released (unlocked). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga91543c9f97a6a1265524a5a8f55fef31"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__apr__errno.html#gaf76ee4543247e9fb3f3546203e590a6c">apr_status_t</a> apr_thread_rwlock_wrlock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__apr__thread__rwlock.html#gaede9b908e3d9e6a8aed7bd10d0ae0498">apr_thread_rwlock_t</a> *&#160;</td>
          <td class="paramname"><em>rwlock</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Acquire an exclusive-write lock on the given read-write lock. This will allow only one single thread to enter the critical sections. If there are any threads currently holding the read-lock, this thread is put to sleep until it can have exclusive access to the lock. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rwlock</td><td>the read-write lock on which to acquire the exclusive write. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Dec 30 2013 23:12:13 for Apache Portable Runtime by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
